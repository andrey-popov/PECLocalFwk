<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Mēnsūra: JetCorrectorService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mēnsūra
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_jet_corrector_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">JetCorrectorService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A service that computes jet energy and resolution corrections.  
 <a href="class_jet_corrector_service.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_jet_corrector_service_8hpp_source.html">JetCorrectorService.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for JetCorrectorService:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_jet_corrector_service.png" usemap="#JetCorrectorService_map" alt=""/>
  <map id="JetCorrectorService_map" name="JetCorrectorService_map">
<area href="class_service.html" title="Abstract base class for services. " alt="Service" shape="rect" coords="0,0,128,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2ed05716dd649e7b25f2c5d863627f93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ed05716dd649e7b25f2c5d863627f93"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#a2ed05716dd649e7b25f2c5d863627f93">SystType</a> { <b>None</b>, 
<b>JEC</b>, 
<b>JER</b>
 }<tr class="memdesc:a2ed05716dd649e7b25f2c5d863627f93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supported types of systematic variations. <br /></td></tr>
<tr class="separator:a2ed05716dd649e7b25f2c5d863627f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2a6a64c04a3ccd608db87696084669e0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a6a64c04a3ccd608db87696084669e0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#a2a6a64c04a3ccd608db87696084669e0">JetCorrectorService</a> (std::string const name=&quot;JetCorrector&quot;)</td></tr>
<tr class="memdesc:a2a6a64c04a3ccd608db87696084669e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a service with the given name. <br /></td></tr>
<tr class="separator:a2a6a64c04a3ccd608db87696084669e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb5bf125b6f7a1017f31356b44354ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7bb5bf125b6f7a1017f31356b44354ca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#a7bb5bf125b6f7a1017f31356b44354ca">JetCorrectorService</a> (<a class="el" href="class_jet_corrector_service.html">JetCorrectorService</a> const &amp;src)</td></tr>
<tr class="memdesc:a7bb5bf125b6f7a1017f31356b44354ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor. <br /></td></tr>
<tr class="separator:a7bb5bf125b6f7a1017f31356b44354ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1f8000223d90a2477b3f26c2d577fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a1f8000223d90a2477b3f26c2d577fa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#a0a1f8000223d90a2477b3f26c2d577fa">JetCorrectorService</a> (<a class="el" href="class_jet_corrector_service.html">JetCorrectorService</a> &amp;&amp;)=default</td></tr>
<tr class="memdesc:a0a1f8000223d90a2477b3f26c2d577fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default move constructor. <br /></td></tr>
<tr class="separator:a0a1f8000223d90a2477b3f26c2d577fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada0b8ed57b8eadeb06c7bde1efd3e840"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_service.html">Service</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#ada0b8ed57b8eadeb06c7bde1efd3e840">Clone</a> () const  override</td></tr>
<tr class="memdesc:ada0b8ed57b8eadeb06c7bde1efd3e840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a newly-initialized clone.  <a href="#ada0b8ed57b8eadeb06c7bde1efd3e840">More...</a><br /></td></tr>
<tr class="separator:ada0b8ed57b8eadeb06c7bde1efd3e840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78920d82e626e25b2d0c41a8e0dd36c4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#a78920d82e626e25b2d0c41a8e0dd36c4">Eval</a> (<a class="el" href="class_jet.html">Jet</a> const &amp;jet, double rho, <a class="el" href="class_jet_corrector_service.html#a2ed05716dd649e7b25f2c5d863627f93">SystType</a> syst=SystType::None, <a class="el" href="class_syst_service.html#aa3d98048d750423aac2375426780f3ec">SystService::VarDirection</a> direction=SystService::VarDirection::Undefined) const </td></tr>
<tr class="memdesc:a78920d82e626e25b2d0c41a8e0dd36c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes full correction factor for requested effects.  <a href="#a78920d82e626e25b2d0c41a8e0dd36c4">More...</a><br /></td></tr>
<tr class="separator:a78920d82e626e25b2d0c41a8e0dd36c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2d8b1f1a703cdc87e6583d901b1f94"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#abb2d8b1f1a703cdc87e6583d901b1f94">EvalJECUnc</a> (double const corrPt, double const eta) const </td></tr>
<tr class="memdesc:abb2d8b1f1a703cdc87e6583d901b1f94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes JEC uncertainty.  <a href="#abb2d8b1f1a703cdc87e6583d901b1f94">More...</a><br /></td></tr>
<tr class="separator:abb2d8b1f1a703cdc87e6583d901b1f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd0218d7fc7e55613e0bf850e542cbf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcd0218d7fc7e55613e0bf850e542cbf"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#afcd0218d7fc7e55613e0bf850e542cbf">IsSystEnabled</a> (<a class="el" href="class_jet_corrector_service.html#a2ed05716dd649e7b25f2c5d863627f93">SystType</a> syst) const </td></tr>
<tr class="memdesc:afcd0218d7fc7e55613e0bf850e542cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports if requested systematic variation can be computed. <br /></td></tr>
<tr class="separator:afcd0218d7fc7e55613e0bf850e542cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02251acf675bd29d34e4715aa355ff3e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02251acf675bd29d34e4715aa355ff3e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#a02251acf675bd29d34e4715aa355ff3e">operator()</a> (<a class="el" href="class_jet.html">Jet</a> const &amp;jet, double rho, <a class="el" href="class_jet_corrector_service.html#a2ed05716dd649e7b25f2c5d863627f93">SystType</a> syst=SystType::None, <a class="el" href="class_syst_service.html#aa3d98048d750423aac2375426780f3ec">SystService::VarDirection</a> direction=SystService::VarDirection::Undefined) const </td></tr>
<tr class="memdesc:a02251acf675bd29d34e4715aa355ff3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A short-cut for method Eval. <br /></td></tr>
<tr class="separator:a02251acf675bd29d34e4715aa355ff3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4855c1c01c811a0bacc24ff839f77f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#a2e4855c1c01c811a0bacc24ff839f77f">SetJEC</a> (std::initializer_list&lt; std::string &gt; const &amp;jecFiles)</td></tr>
<tr class="memdesc:a2e4855c1c01c811a0bacc24ff839f77f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies text files for JEC.  <a href="#a2e4855c1c01c811a0bacc24ff839f77f">More...</a><br /></td></tr>
<tr class="separator:a2e4855c1c01c811a0bacc24ff839f77f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca9cfb8dba62e30dbdedaf98d8fa590"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#a8ca9cfb8dba62e30dbdedaf98d8fa590">SetJECUncertainty</a> (std::string const &amp;jecUncFile, std::initializer_list&lt; std::string &gt; uncSources={})</td></tr>
<tr class="memdesc:a8ca9cfb8dba62e30dbdedaf98d8fa590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies text file for JEC uncertainties and desired uncertainty sources.  <a href="#a8ca9cfb8dba62e30dbdedaf98d8fa590">More...</a><br /></td></tr>
<tr class="separator:a8ca9cfb8dba62e30dbdedaf98d8fa590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7c1ccb16a4a66dfb88ff1879ebdbd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_jet_corrector_service.html#add7c1ccb16a4a66dfb88ff1879ebdbd2">SetJER</a> (std::string const &amp;jerSFFile, std::string const &amp;jerMCFile, unsigned long seed=0)</td></tr>
<tr class="separator:add7c1ccb16a4a66dfb88ff1879ebdbd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_service"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_service')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_service.html">Service</a></td></tr>
<tr class="memitem:a6d83647c9afecd5afce032ab833fa069 inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#a6d83647c9afecd5afce032ab833fa069">Service</a> (std::string const &amp;name)</td></tr>
<tr class="memdesc:a6d83647c9afecd5afce032ab833fa069 inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a6d83647c9afecd5afce032ab833fa069">More...</a><br /></td></tr>
<tr class="separator:a6d83647c9afecd5afce032ab833fa069 inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63fe5c77d146248a11f76e51b1e66ec1 inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a63fe5c77d146248a11f76e51b1e66ec1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#a63fe5c77d146248a11f76e51b1e66ec1">Service</a> (<a class="el" href="class_service.html">Service</a> const &amp;)=default</td></tr>
<tr class="memdesc:a63fe5c77d146248a11f76e51b1e66ec1 inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default copy constructor. <br /></td></tr>
<tr class="separator:a63fe5c77d146248a11f76e51b1e66ec1 inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30abe2e3bb812d005e6e89fb0c752a1 inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab30abe2e3bb812d005e6e89fb0c752a1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#ab30abe2e3bb812d005e6e89fb0c752a1">Service</a> (<a class="el" href="class_service.html">Service</a> &amp;&amp;)=default</td></tr>
<tr class="memdesc:ab30abe2e3bb812d005e6e89fb0c752a1 inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default move constructor. <br /></td></tr>
<tr class="separator:ab30abe2e3bb812d005e6e89fb0c752a1 inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18315706414f39d6f17b0b27f8e03a5e inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18315706414f39d6f17b0b27f8e03a5e"></a>
<a class="el" href="class_service.html">Service</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#a18315706414f39d6f17b0b27f8e03a5e">operator=</a> (<a class="el" href="class_service.html">Service</a> const &amp;)=default</td></tr>
<tr class="memdesc:a18315706414f39d6f17b0b27f8e03a5e inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default assignment operator. <br /></td></tr>
<tr class="separator:a18315706414f39d6f17b0b27f8e03a5e inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b798149b90cbdb1f1c66f740db5864b inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b798149b90cbdb1f1c66f740db5864b"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#a9b798149b90cbdb1f1c66f740db5864b">~Service</a> ()=default</td></tr>
<tr class="memdesc:a9b798149b90cbdb1f1c66f740db5864b inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor. <br /></td></tr>
<tr class="separator:a9b798149b90cbdb1f1c66f740db5864b inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a5bcdc70e1797c574bac4fce10c4cd inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#aa6a5bcdc70e1797c574bac4fce10c4cd">BeginRun</a> (<a class="el" href="class_dataset.html">Dataset</a> const &amp;dataset)</td></tr>
<tr class="memdesc:aa6a5bcdc70e1797c574bac4fce10c4cd inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs initialization needed when processing of a new dataset starts.  <a href="#aa6a5bcdc70e1797c574bac4fce10c4cd">More...</a><br /></td></tr>
<tr class="separator:aa6a5bcdc70e1797c574bac4fce10c4cd inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aefbc6a2dd4bc99ff75d05fa096d4e4 inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#a8aefbc6a2dd4bc99ff75d05fa096d4e4">EndRun</a> ()</td></tr>
<tr class="memdesc:a8aefbc6a2dd4bc99ff75d05fa096d4e4 inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs necessary actions needed after processing of a dataset is finished.  <a href="#a8aefbc6a2dd4bc99ff75d05fa096d4e4">More...</a><br /></td></tr>
<tr class="separator:a8aefbc6a2dd4bc99ff75d05fa096d4e4 inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0810d8e394b468660e23dbe954bc7623 inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_processor.html">Processor</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#a0810d8e394b468660e23dbe954bc7623">GetMaster</a> () const </td></tr>
<tr class="memdesc:a0810d8e394b468660e23dbe954bc7623 inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the master.  <a href="#a0810d8e394b468660e23dbe954bc7623">More...</a><br /></td></tr>
<tr class="separator:a0810d8e394b468660e23dbe954bc7623 inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568a9277f6cdb2e7f661528b8aac398f inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a568a9277f6cdb2e7f661528b8aac398f"></a>
std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#a568a9277f6cdb2e7f661528b8aac398f">GetName</a> () const </td></tr>
<tr class="memdesc:a568a9277f6cdb2e7f661528b8aac398f inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns name of the plugin. <br /></td></tr>
<tr class="separator:a568a9277f6cdb2e7f661528b8aac398f inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad67b1749444a012f16370449d3f752c8 inherit pub_methods_class_service"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service.html#ad67b1749444a012f16370449d3f752c8">SetMaster</a> (<a class="el" href="class_processor.html">Processor</a> const *processor)</td></tr>
<tr class="memdesc:ad67b1749444a012f16370449d3f752c8 inherit pub_methods_class_service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a pointer to an instance of <a class="el" href="class_processor.html" title="Runs plugins in a single thread. ">Processor</a> class that owns the service.  <a href="#ad67b1749444a012f16370449d3f752c8">More...</a><br /></td></tr>
<tr class="separator:ad67b1749444a012f16370449d3f752c8 inherit pub_methods_class_service"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A service that computes jet energy and resolution corrections. </p>
<p>This class computes jet corrections to adjust energy scale and resolution. Inputs for the computation are provided in form of standard text files used by JetMET POG. The computed correction is returned as a factor to rescale jet four-momentum.</p>
<p>Any levels of the full correction can be omitted. If JEC text files are not provided, jet momentum is assumed to be corrected for the energy scale. Otherwise the corresponding correction is evaluated starting from raw jet momentum (which thus must have been set up properly). If one or more JEC uncertainties are specified by user and a JEC systematic variation is requested, the correction factor is adjusted accordingly. If JER data/MC scale factors have been specified, deterministic JER smearing is applied for jets that have matched generator-level jets. If pt resolution in simulation is specified in addition, jets that do not have generator-level matches are smeared stochastically using this resolution and the scale factors. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ada0b8ed57b8eadeb06c7bde1efd3e840"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_service.html">Service</a> * JetCorrectorService::Clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a newly-initialized clone. </p>
<p>Implemented from <a class="el" href="class_service.html" title="Abstract base class for services. ">Service</a>. </p>

<p>Implements <a class="el" href="class_service.html#a47f0669618b0f41f2c7b14ba46e54e5a">Service</a>.</p>

</div>
</div>
<a class="anchor" id="a78920d82e626e25b2d0c41a8e0dd36c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double JetCorrectorService::Eval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_jet.html">Jet</a> const &amp;&#160;</td>
          <td class="paramname"><em>jet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rho</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_jet_corrector_service.html#a2ed05716dd649e7b25f2c5d863627f93">SystType</a>&#160;</td>
          <td class="paramname"><em>syst</em> = <code>SystType::None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_syst_service.html#aa3d98048d750423aac2375426780f3ec">SystService::VarDirection</a>&#160;</td>
          <td class="paramname"><em>direction</em> = <code>SystService::VarDirection::Undefined</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes full correction factor for requested effects. </p>
<p>Returned factor can include correction of the energy scale and resolution. As explained in documentation for the class, any part of the correction is optional. </p>

</div>
</div>
<a class="anchor" id="abb2d8b1f1a703cdc87e6583d901b1f94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double JetCorrectorService::EvalJECUnc </td>
          <td>(</td>
          <td class="paramtype">double const&#160;</td>
          <td class="paramname"><em>corrPt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double const&#160;</td>
          <td class="paramname"><em>eta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes JEC uncertainty. </p>
<p>The arguments are the JES-corrected pt and pseudorapidity. The uncertainty is calculated as a sum in quadrature of uncertainties from all sources specified in a call to SetJECUncertainty. </p>

</div>
</div>
<a class="anchor" id="a2e4855c1c01c811a0bacc24ff839f77f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JetCorrectorService::SetJEC </td>
          <td>(</td>
          <td class="paramtype">std::initializer_list&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>jecFiles</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies text files for JEC. </p>
<p>Different levels of corrections are applied in the same order as specified here. Paths to the files are resolved using <a class="el" href="class_file_in_path.html" title="Allows to resolve a (possibly) relative file path w.r.t. to several possible locations. ">FileInPath</a>, with a subdirectory "JERC". </p>

</div>
</div>
<a class="anchor" id="a8ca9cfb8dba62e30dbdedaf98d8fa590"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JetCorrectorService::SetJECUncertainty </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>jecUncFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::initializer_list&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>uncSources</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies text file for JEC uncertainties and desired uncertainty sources. </p>
<p>There is no need to provide the name of an uncertainty source if the file defines only a single one. Path to the file is resolved using <a class="el" href="class_file_in_path.html" title="Allows to resolve a (possibly) relative file path w.r.t. to several possible locations. ">FileInPath</a>, with a subdirectory "JERC". </p>

</div>
</div>
<a class="anchor" id="add7c1ccb16a4a66dfb88ff1879ebdbd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void JetCorrectorService::SetJER </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>jerSFFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>jerMCFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>seed</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Specifies text files for data/MC JER scale factors and pt resolution in MC</p>
<p>Paths to the files are resolved using <a class="el" href="class_file_in_path.html" title="Allows to resolve a (possibly) relative file path w.r.t. to several possible locations. ">FileInPath</a>, with a subdirectory "JERC". The file with pt resolution in simulation is optional. Only when it is specified, a random-number generator is created to perform stochastic JER smearing. The last argument defines the seed for the generator; 0 means that the seed will be chosen randomly. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/mensura/extensions/<a class="el" href="_jet_corrector_service_8hpp_source.html">JetCorrectorService.hpp</a></li>
<li>modules/extensions/src/JetCorrectorService.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
